var DuplicateKeyMode={Concat:1,Replase:2,KeepOld:3},QueryStringHandlerStatic={ParseQueryString:function(e,t){var a=new QueryStringHandler(e,t);return a.ParseQueryString(e,t)}},QueryStringHandler=function(e,t){var a=this;return a.data=[],a.QueryStringParams=function(){return a.data},a.ReturnQueryString=function(e,t){t||(t=!0),e||(e=function(e,t){return e+"="+t});var n=[];for(var r in a.data)n.push(e(r,a.data[r]));return(t?"?":"")+n.join("&")},a.ParseQueryString=function(){t||(t=DuplicateKeyMode.Concat);var n={};e=decodeURIComponent(e),!e.indexOf("?")>-1&&(e+="?"+e);var r=e.split("?");if(!r[1])return n;for(var u=r[1].split("&"),i=0;i<u.length;i++){var l=u[i],o=l.split("="),d=o[0],c=2==o.length?o[1]:"";a.InsertKey(n,d,c,t)}return n},a.InsertKey=function(e,t,n,r){e[t]?a.UpdateKeyValue(e,t,n,r):e[t]=n},a.UpdateKeyValue=function(e,t,a,n){switch(n){case DuplicateKeyMode.Concat:e[t]+=","+a;break;case DuplicateKeyMode.Replase:e[t]=a;break;case DuplicateKeyMode.KeepOld:}},a.UpdateKey=function(e,t,n){a.UpdateKeyValue(a.data,e,t,n||DuplicateKeyMode.Replase)},a.UpdateList=function(e,t){for(var n=0;n<e.length;n++)a.UpdateKeyValue(a.data,e[n].key,e[n].value,t||DuplicateKeyMode.Replase)},a.DeleteKey=function(e){delete a.data[e]},a.DeleteKeys=function(e){for(var t=0;t<e.length;t++)delete a.data[e[t]]},a.RenameKey=function(e,t){a.data[t]=a.data[e],a.DeleteKey(e)},a.InsertOrConcat=function(e,t){a.InsertKey(a.data,e,t,DuplicateKeyMode.Concat)},a.InsertOrConcatList=function(e){for(var t=0;t<e.length;t++)a.InsertOrConcat(e[t].key,e[t].value)},a.InsertOrReplase=function(e,t){a.InsertKey(a.data,e,t,DuplicateKeyMode.Replase)},a.InsertOrReplaseList=function(e){for(var t=0;t<e.length;t++)a.InsertOrReplase(e[t].key,e[t].value)},a.InsertOrKeepOld=function(e,t){a.InsertKey(a.data,e,t,DuplicateKeyMode.KeepOld)},a.InsertOrKeepOldList=function(e){for(var t=0;t<e.length;t++)a.InsertOrKeepOld(e[t].key,e[t].value)},a.data=a.ParseQueryString(e,t),a};